# 第三章：函数 VS 块级作用域

第二章中我们讨论了嵌套作用域由一系列作为容器保存标识符（变量、函数）的“气泡”组成。这些“气泡”整齐地嵌套在彼此的里面，这种嵌套关系是在编写代码是就定义好的。

但是什么情况下会生成一个新的气泡呢？只有函数可以吗？JavaScript中的其他结构可以创建作用域气泡吗？

JavaScript中最常见的作用域是基于函数的作用域，但是也有其他的结构可以创建新作用域。我先来看看函数作用域及其含义。

## 函数作用域

考虑如下代码：
```js
function foo(a) {
    var b = 2;
    // some code
    function bar() {
        // ...
    }
    // more code
    var c = 3;
}
```
函数foo的作用域中包括标识符a、b、c和bar，函数bar的作用域有自己的气泡。全局作用域也有自己的气泡，其中只有一个对应的标识符：foo。

因为a、b、c和bar属于foo的作用域，因此它们在foo函数之外是不能被访问到的，否则会导致`RenferenceError`错误。但是它们可以在函数foo内被访问到，而且在bar函数内也能被访问到。



